--- QUICKSTART GUIDE TO PLOTTING SPHYSICS RESULTS ---

(All plotting codes for SPHYSICS are distributed under the terms of General Public License, GPL, as published by the Free Software Foundation, http://www.gnu.org)

This directory contains:

1) The Matlab routines for visualizing SPHYSICS_2D results using Matlab.

2) ParaView processing routines PART2VTU_2D.m and PVDinput.m which can be run in Matlab first to produce PARTijkl.vtu files in the ascii VTK unstructured grid format and a VTUinp.pvd file, respectively. These output files will be created in run_directory/CaseN/ParaviewFiles/VTU directory. The .vtu files can be loaded into PARAVIEW to look at individual frames.  If an animation is desired, loading the VTUinp.pvd file into PARAVIEW produces the animation. This has been tested using PARAVIEW v3.0.

Given below is a brief description of the files:

1) SPHYSICS2D_Plot.m:
   This is the main program that needs to be executed to visualize the results in Matlab. This loads the input files DT and matlabin, sets the figure properties and calls either MovingObjects2D.m or NoMovingObjects2D.m.

2) MovingObjects2D.m (called by SPHYSICS2D_Plot.m)
   This is called by SPHYSICS2D_Plot.m when there are moving objects such as a wavemaker or a wedge in the domain. The fixed boundary particles are represented in red, the moving boundary particles are represented by black color and the water particles are colored blue.

3) NoMovingObjects2D.m (called by SPHYSICS2D_Plot.m)
   This is called by SPHYSICS2D_Plot.m when there are no moving objects such as a wavemaker or a wedge in the domain. The fixed boundary particles are represented in red and the water particles are colored blue.

4) SPHYSICSgen2D_Plot.m
   This plots the initial configuration of the particles using the files, IPART and matlabin, that are generated by SPHYSICSgen_2D.

5) SPHYSICS2D_Plot_Magnitude.m:
   This is a variant of the main plotting program, SPHYSICS3D_Plot.m, that plots particles' colours according to their value, e.g. pressure.

6) PART2VTU_2D.m
   This program generates PARTijkl.vtu files and the VTUinp.pvd.  and places them in the run_directory/CaseN/ParaviewFiles/VTU directory. If this directory does not exist the program creates it.

7) PVDinput.m
  This is called by PART2VTU_2D.m to create VTUinp.pvd to create animations in ParaView.


PROGRAM LOCATION:

These programs search for the input files DT, matlabin and the PART_ijkl files in the current matlab working directory. Hence, these *.m files should either:

1) be copied to the run_directory/CaseN directory where the input files DT, maltabin and the PART_ijkl files are located, or

2) be left under Post-Processing/matlabRoutines/ and have their location added to Matlab's default search path (search www.mathworks.com for more info).


PROGRAM EXECUTION:

To run these plotting routines, first change directory to run_directory/CaseN.

1) Plotting in Matlab
At the command prompt in matlab, enter:
SPHYSICS2D_Plot

For viewing the initial particle configuration only, enter:
SPHYSICSgen2D_Plot

2) Plotting in ParaView 3.0+
(i)   In Matlab, run PART2VTU_2D.m by entering at the command prompt (answer questions if necessary):
PART2VTU_2D
(ii)  In ParaView, use the Pipeline browser to load in the .vtu files.
(iii) For animations, load the pvd file in first.
(iv)  Use Filters and Threshold, etc., to create desired image.

More detailed instructions on exact procedures within ParaView will be given at a later date. 